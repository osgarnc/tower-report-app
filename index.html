<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#0066cc">
<meta name="author" content="Newcomm Management Services Corp.">
<meta name="copyright" content="¬© 2025 Newcomm Management Services Corp.">
<meta name="description" content="Tower Provider Report - Professional Mobile Application">
<title>Tower Report Mobile v9.4 - Working Version</title>

<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
background-color: #f5f5f5;
color: #333;
overflow-x: hidden;
}

.app-container {
max-width: 600px;
margin: 0 auto;
background-color: white;
min-height: 100vh;
position: relative;
}

.user-info {
background-color: #e3f2fd;
padding: 10px 15px;
display: flex;
justify-content: space-between;
align-items: center;
font-size: 14px;
}

.user-info strong {
color: #1565c0;
}

.header {
background-color: #0066cc;
color: white;
padding: 15px;
text-align: center;
position: sticky;
top: 0;
z-index: 100;
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.header h1 {
font-size: 20px;
font-weight: 500;
}

.step-indicator {
display: flex;
justify-content: center;
padding: 20px;
gap: 10px;
}

.step {
width: 30px;
height: 30px;
border-radius: 50%;
background-color: #e0e0e0;
display: flex;
align-items: center;
justify-content: center;
font-size: 14px;
transition: all 0.3s;
}

.step.active {
background-color: #0066cc;
color: white;
}

.step.completed {
background-color: #4caf50;
color: white;
}

.form-section {
display: none;
padding: 20px;
animation: slideIn 0.3s ease-out;
}

.form-section.active {
display: block;
}

@keyframes slideIn {
from {
opacity: 0;
transform: translateX(20px);
}
to {
opacity: 1;
transform: translateX(0);
}
}

.form-group {
margin-bottom: 20px;
}

label {
display: block;
margin-bottom: 5px;
font-weight: 500;
color: #555;
}

input[type="text"],
input[type="number"],
input[type="date"],
select,
textarea {
width: 100%;
padding: 12px;
border: 1px solid #ddd;
border-radius: 6px;
font-size: 16px;
transition: border-color 0.3s;
}

input:focus,
select:focus,
textarea:focus {
outline: none;
border-color: #0066cc;
}

.required {
color: #f44336;
}

.btn {
padding: 12px 24px;
border: none;
border-radius: 6px;
font-size: 16px;
font-weight: 500;
cursor: pointer;
transition: all 0.3s;
text-align: center;
display: inline-block;
}

.btn-primary {
background-color: #0066cc;
color: white;
}

.btn-primary:hover {
background-color: #0052a3;
}

.btn-success {
background-color: #4caf50;
color: white;
}

.btn-secondary {
background-color: #757575;
color: white;
}

.btn-danger {
background-color: #f44336;
color: white;
}

.btn:disabled {
opacity: 0.6;
cursor: not-allowed;
}

.btn-block {
width: 100%;
display: block;
}

.btn-group {
display: flex;
gap: 10px;
margin-top: 30px;
}

.notification {
position: fixed;
top: 70px;
left: 50%;
transform: translateX(-50%);
padding: 15px 20px;
border-radius: 6px;
color: white;
font-weight: 500;
z-index: 1000;
animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
from {
opacity: 0;
transform: translate(-50%, -20px);
}
to {
opacity: 1;
transform: translate(-50%, 0);
}
}

.notification.success {
background-color: #4caf50;
}

.notification.error {
background-color: #f44336;
}

.notification.info {
background-color: #2196f3;
}

.copyright-footer {
text-align: center;
padding: 20px;
font-size: 12px;
color: #999;
border-top: 1px solid #eee;
margin-top: 40px;
}

.success-message {
background: #e8f5e9;
border: 1px solid #4caf50;
color: #2e7d32;
padding: 20px;
border-radius: 8px;
text-align: center;
}

.success-message h2 {
color: #2e7d32;
margin-bottom: 15px;
}

@media (max-width: 480px) {
.header h1 {
font-size: 18px;
}

.btn {
font-size: 14px;
padding: 10px 20px;
}
}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<div class="app-container">
<div class="user-info">
<span>Usuario: <strong id="userDisplayName">Demo User</strong></span>
<span style="font-size: 12px; color: #666;">v9.4 - Sin Autenticaci√≥n</span>
</div>

<header class="header">
<h1>Tower Provider Report</h1>
<div style="font-size: 12px; opacity: 0.8; margin-top: 5px;">Versi√≥n 9.4 - Demo (Sin Auth)</div>
</header>

<div class="step-indicator">
<div class="step active" id="step1">1</div>
<div class="step" id="step2">2</div>
<div class="step" id="step3">3</div>
<div class="step" id="step4">4</div>
<div class="step" id="step5">5</div>
</div>

<!-- Step 1: Basic Information -->
<div class="form-section active" id="section1">
<h2>Informaci√≥n B√°sica</h2>

<div class="form-group">
<label>Tower Provider Site ID <span class="required">*</span></label>
<input type="text" id="siteId" placeholder="ej: 10028307" required>
</div>

<div class="form-group">
<label>Tower Provider Site Name <span class="required">*</span></label>
<input type="text" id="siteName" placeholder="ej: Vega Baja DT" required>
</div>

<div class="form-group">
<label>Customer Site ID <span class="required">*</span></label>
<input type="text" id="customerSiteId" placeholder="ej: 10028307" required>
</div>

<div class="form-group">
<label>Customer Site Name <span class="required">*</span></label>
<input type="text" id="customerSiteName" placeholder="ej: Vega Baja DT" required>
</div>

<div class="form-group" style="background: #e3f2fd; padding: 15px; border-radius: 6px;">
<label>Number of Sectors <span class="required">*</span></label>
<select id="sectorsCount" required>
<option value="">Seleccione cantidad de sectores</option>
<option value="1">1 Sector</option>
<option value="2">2 Sectores</option>
<option value="3">3 Sectores</option>
<option value="4">4 Sectores</option>
<option value="5">5 Sectores</option>
<option value="6">6 Sectores</option>
</select>
</div>

<div class="form-group">
<label>Team Leader <span class="required">*</span></label>
<input type="text" id="teamLeader" placeholder="ej: Christopher Rodriguez" required>
</div>

<div class="form-group">
<label>Completion Date <span class="required">*</span></label>
<input type="date" id="completionDate" required>
</div>

<div class="btn-group">
<button class="btn btn-primary" onclick="nextStep()" style="margin-left: auto;">
Siguiente ‚Üí
</button>
</div>
</div>

<!-- Step 2: Quick Info -->
<div class="form-section" id="section2">
<h2>Informaci√≥n Adicional</h2>

<div class="form-group">
<label>Radios Installed</label>
<input type="number" id="radiosInstalled" min="0" placeholder="3">
</div>

<div class="form-group">
<label>Antennas Installed</label>
<input type="number" id="antennasInstalled" min="0" placeholder="6">
</div>

<div class="form-group">
<label>GPS Coordinates (Optional)</label>
<input type="text" id="gpsCoords" placeholder="18.4671, -67.0185">
</div>

<div class="btn-group">
<button class="btn btn-secondary" onclick="previousStep()">
‚Üê Anterior
</button>
<button class="btn btn-primary" onclick="nextStep()">
Siguiente ‚Üí
</button>
</div>
</div>

<!-- Step 3: Demo Photos -->
<div class="form-section" id="section3">
<h2>Documentaci√≥n Fotogr√°fica (Demo)</h2>

<div style="background: #fff3cd; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
<h4>üì∏ Modo Demo</h4>
<p>Esta versi√≥n demo simula el proceso de toma de fotos. En la versi√≥n completa, aqu√≠ tomar√≠as fotos reales usando la c√°mara.</p>
<button class="btn btn-primary" onclick="simulatePhotos()">
Simular Fotos Completadas
</button>
</div>

<div id="photoStatus" style="margin-top: 20px;"></div>

<div class="btn-group">
<button class="btn btn-secondary" onclick="previousStep()">
‚Üê Anterior
</button>
<button class="btn btn-primary" onclick="nextStep()">
Siguiente ‚Üí
</button>
</div>
</div>

<!-- Step 4: Review -->
<div class="form-section" id="section4">
<h2>Revisar Informaci√≥n</h2>

<div style="background: #f5f5f5; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
<h3 style="color: #0066cc;">Informaci√≥n del Sitio</h3>
<div id="siteReview"></div>
</div>

<div class="btn-group">
<button class="btn btn-secondary" onclick="previousStep()">
‚Üê Anterior
</button>
<button class="btn btn-primary" onclick="nextStep()">
Siguiente ‚Üí
</button>
</div>
</div>

<!-- Step 5: Success -->
<div class="form-section" id="section5">
<div class="success-message">
<h2>‚úÖ Reporte Completado</h2>
<p>Su reporte ha sido generado exitosamente en modo demo.</p>
<p><strong>ID:</strong> <span id="reportId"></span></p>
<p style="margin-top: 15px;">En la versi√≥n completa, el reporte se enviar√≠a autom√°ticamente a SharePoint.</p>
<button class="btn btn-primary" onclick="startNewReport()" style="margin-top: 20px;">
‚ûï Crear Nuevo Reporte
</button>
</div>
</div>

<!-- Copyright Footer -->
<div class="copyright-footer">
¬© 2025 Newcomm Management Services Corp. ‚Ä¢ All rights reserved ‚Ä¢ v9.4 Demo
</div>
</div>

<script>
// Global variables
let currentStep = 1;
let reportData = {
basic: {},
metadata: {
appVersion: '9.4-demo',
deviceInfo: navigator.userAgent,
createdAt: new Date().toISOString()
}
};

// Navigation functions
function nextStep() {
if (validateCurrentStep()) {
saveCurrentStep();
if (currentStep < 5) {
currentStep++;
showStep(currentStep);
}
}
}

function previousStep() {
if (currentStep > 1) {
currentStep--;
showStep(currentStep);
}
}

function showStep(step) {
document.querySelectorAll('.form-section').forEach(section => {
section.classList.remove('active');
});

document.getElementById('section' + step).classList.add('active');

document.querySelectorAll('.step').forEach((stepEl, index) => {
stepEl.classList.remove('active', 'completed');
if (index + 1 < step) {
stepEl.classList.add('completed');
} else if (index + 1 === step) {
stepEl.classList.add('active');
}
});

if (step === 4) {
updateReview();
}

if (step === 5) {
generateReportId();
}

window.scrollTo(0, 0);
}

function validateCurrentStep() {
switch(currentStep) {
case 1:
const requiredFields = ['siteId', 'siteName', 'customerSiteId', 'customerSiteName', 'sectorsCount', 'teamLeader', 'completionDate'];
for (let field of requiredFields) {
if (!document.getElementById(field).value) {
showNotification('Por favor complete todos los campos requeridos', 'error');
document.getElementById(field).focus();
return false;
}
}
return true;
default:
return true;
}
}

function saveCurrentStep() {
switch(currentStep) {
case 1:
reportData.basic = {
siteId: document.getElementById('siteId').value,
siteName: document.getElementById('siteName').value,
customerSiteId: document.getElementById('customerSiteId').value,
customerSiteName: document.getElementById('customerSiteName').value,
sectorsCount: document.getElementById('sectorsCount').value,
teamLeader: document.getElementById('teamLeader').value,
completionDate: document.getElementById('completionDate').value,
submittedBy: 'Demo User',
submittedByEmail: 'demo@newcomm2000.com'
};
break;
case 2:
reportData.additional = {
radiosInstalled: document.getElementById('radiosInstalled').value || '0',
antennasInstalled: document.getElementById('antennasInstalled').value || '0',
gpsCoords: document.getElementById('gpsCoords').value || 'N/A'
};
break;
}
}

function simulatePhotos() {
const photoStatus = document.getElementById('photoStatus');
photoStatus.innerHTML = `
<div style="background: #e8f5e9; padding: 15px; border-radius: 6px; border: 1px solid #4caf50;">
<h4 style="color: #2e7d32;">‚úÖ Fotos Simuladas Completadas</h4>
<ul style="margin: 10px 0; color: #2e7d32;">
<li>üì∏ Post Equipment Room: 4 fotos</li>
<li>üì° Antenna Labels: ${reportData.additional?.antennasInstalled || 3} fotos</li>
<li>üìª Radio Labels: ${reportData.additional?.radiosInstalled || 3} fotos</li>
<li>üèóÔ∏è Compound Post Pictures: 4 fotos</li>
<li>üìè Tape Drop Measurements: ${(parseInt(reportData.basic.sectorsCount) || 1) * 2} fotos</li>
<li>üö® Beacon Photos: 2 fotos</li>
</ul>
<p><strong>Total:</strong> ${calculateTotalPhotos()} fotos simuladas</p>
</div>
`;
}

function calculateTotalPhotos() {
const sectors = parseInt(reportData.basic.sectorsCount) || 1;
const antennas = parseInt(reportData.additional?.antennasInstalled) || 3;
const radios = parseInt(reportData.additional?.radiosInstalled) || 3;
return 4 + antennas + radios + 4 + (sectors * 2) + 2;
}

function updateReview() {
const siteReview = document.getElementById('siteReview');
siteReview.innerHTML = `
<p><strong>Site ID:</strong> ${reportData.basic.siteId}</p>
<p><strong>Site Name:</strong> ${reportData.basic.siteName}</p>
<p><strong>Sectors:</strong> ${reportData.basic.sectorsCount}</p>
<p><strong>Team Leader:</strong> ${reportData.basic.teamLeader}</p>
<p><strong>Date:</strong> ${reportData.basic.completionDate}</p>
<p><strong>Total Photos:</strong> ${calculateTotalPhotos()} (simulated)</p>
`;
}

function generateReportId() {
const timestamp = Date.now();
const randomNum = Math.floor(Math.random() * 1000);
const reportId = `DEMO-${timestamp}-${randomNum}`;
document.getElementById('reportId').textContent = reportId;
}

function startNewReport() {
// Reset data
reportData = {
basic: {},
metadata: {
appVersion: '9.4-demo',
deviceInfo: navigator.userAgent,
createdAt: new Date().toISOString()
}
};

// Reset form
document.querySelectorAll('input, select, textarea').forEach(field => {
if (field.type === 'date') {
field.value = new Date().toISOString().split('T')[0];
} else {
field.value = '';
}
});

// Reset steps
currentStep = 1;
showStep(1);
document.getElementById('photoStatus').innerHTML = '';

showNotification('Nuevo reporte iniciado', 'success');
}

function showNotification(message, type = 'info') {
const existing = document.querySelector('.notification');
if (existing) {
existing.remove();
}

const notification = document.createElement('div');
notification.className = `notification ${type}`;
notification.textContent = message;
document.body.appendChild(notification);

setTimeout(() => {
notification.remove();
}, 3000);
}

// Initialize app
window.addEventListener('load', () => {
console.log('Tower Report Demo v9.4 loaded successfully');
document.getElementById('completionDate').value = new Date().toISOString().split('T')[0];
showNotification('Aplicaci√≥n demo cargada correctamente', 'success');
});
</script>
</body>
</html>
